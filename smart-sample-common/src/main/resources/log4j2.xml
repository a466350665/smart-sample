<?xml version="1.0" encoding="UTF-8"?>
<Configuration>

    <properties>
        <!-- 日志文件输出主目录 -->
        <property name="LOG_HOME">./logs</property>
        <!-- 日志名称前缀 -->
        <property name="LOG_NAME_PREFIX">smart-sample</property>
        <!-- 日志文件大小 -->
        <property name="FILE_SIZE">50 MB</property>

        <property name="buffer_size">1048576</property>

        <!-- 日志输出格式 -->
        <property name="log_pattern">
            <!-- [机器日期时间] [日志级别] [线程名] [类] 日志内容 -->
            <![CDATA[[%d{yyyy-MM-dd HH:mm:ss:SSS}] [%-5level] [default][%X{SW-segmentName}] [%t] [%C{1}] %m%n]]>
        </property>
    </properties>

    <Appenders>
        <!-- 控制台 -->
        <Console name="Console" target="SYSTEM_OUT">
            <PatternLayout pattern="${log_pattern}"/>
        </Console>
        <RollingFile name="file" fileName="${LOG_HOME}/${LOG_NAME_PREFIX}.log" filePattern="${LOG_HOME}/${LOG_NAME_PREFIX}-%i.log.gz" ignoreExceptions="false" bufferSize="${buffer_size}">
            <Policies>
                <SizeBasedTriggeringPolicy size="500MB"/>
            </Policies>
            <PatternLayout pattern="${log_pattern}"/>
            <DefaultRolloverStrategy min="1" max="5"/>
        </RollingFile>
    </Appenders>

    <Loggers>
        <Root level="info" includeLocation="true">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="file"/>
        </Root>

    </Loggers>
</Configuration>